<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- Local CSS -->
    <link href="../styling/main.css" rel="stylesheet">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bungee&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap" rel="stylesheet">

    <title>Purchase Tickets: Captain Jack's Cruise Co.</title>
  </head> 
  <body>
    <nav id="vertical-navbar" class="navbar whitenav" style="float: right;">
      <a href="../pages/trips.html" class="nav-link whitenavlink">
        <div class="link-item">
          <i class="icon"><img src="../assets/icon_map marker_blue.svg"></i>
          <span class="link-text">Trips</span>
        </div>
      </a>
      <a href="../pages/purchasetickets.html" class="nav-link whitenavlink">
        <div class="link-item">
          <i class="icon"><img src="../assets/icon_cart_blue.svg"></i>
          <span class="link-text">Purchase</span>
        </div>
      </a>
      <div class="home-button whitenavhome" onclick="window.location='../index.html';">
        <!-- -->
      </div>
      <a href="#" class="nav-link whitenavlink">
        <div class="link-item">
          <i class="icon"><img src="../assets/icon_gift_blue.svg"></i>
          <span class="link-text">Request</span>
        </div>
      </a>
      <a href="#" class="nav-link whitenavlink">
        <div class="link-item">
          <i class="icon"><img src="../assets/icon_person_blue.svg"></i>
          <span class="link-text">Account</span>
        </div>
      </a>
    </nav>
    
    <div class="nav-spacer" style="float: left; height: 100vh; width: 120px; position: fixed; z-index: 1;"></div>
    <div class="body-content" style="float: left; margin: 0; padding: 0; margin-top: 50px; margin-left: 120px; width: calc(100% - 120px); min-height: calc(100vh - 50px);">
      <div class="container-fluid" style="margin: 0; margin-left: 120px; margin-right: 120px; padding: 0; max-width: calc(100% - 240px);">
        <div class="row" style="padding: 0;">
          <h1 class="display-4">Cruises in Cart</h1>
        </div>
        <table class="table table-hover table-fixed" id="purchaseList" style="background-color: #ffffff; color: #313638;">
          <thead>
            <tr>
              <th scope="col">Cruise Name</th>
              <th scope="col">Trip Code</th>
              <th scope="col">Departure Point</th>
              <th scope="col">Destinations On Route</th>
              <th scope="col">Departure Date</th>
              <th scope="col">Trip Duration</th>
              <th scope="col">Number of Tickets</th>
              <th scope="col" class="col-sm-2">Price</th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody id="purchaseTable">
              
          </tbody>
          <tbody id="totalRow" class="table-group-divider">
            <tr>
              <td colspan="7"></td>
              <td colspan="2"><strong style="float: left; margin-right: 10px;">Total:</strong><div id="totalCost" style="float: left;"></div></td>
            </tr>
          </tbody>
        </table>

        <button type="button" class="btn btn-primary btn-lg" data-bs-toggle="modal" href="#exampleModalToggle" style="background-color: #C83E4D;">
          Purchase Tickets
        </button>
        <!-- Modal -->
        <div class="modal fade" id="exampleModalToggle" style="color: #313638;" aria-hidden="true" aria-labelledby="exampleModalToggleLabel" tabindex="-1">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalToggleLabel">Confirm Your Purchase</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Are you sure that you want to complete this purchase?
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Go Back</button>
                <button type="button" class="btn btn-primary" data-bs-target="#exampleModalToggle2" data-bs-dismiss="modal" data-bs-toggle="modal" onclick="purchaseTrips()">Confirm</button>
              </div>
            </div>
          </div>
        </div>
        <div   class="modal fade" id="exampleModalToggle2" style="color: #313638;" aria-hidden="true" aria-labelledby="exampleModalToggleLabel2" tabindex="-1">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalToggleLabel2">Transaction Successful</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="clearCart()"></button>
              </div>
              <div class="modal-body">
                Your tickets have been booked. Happy travels!
              </div>
              <div class="modal-footer">
                <button class="btn btn-primary" data-bs-target="#exampleModalToggle" data-bs-dismiss="modal" onclick="clearCart()">Exit</button>
              </div>
            </div>
          </div>
        </div>

      </div>


      <footer>
        <div class="container-fluid" style="height: 100px; margin-top: 50px; background-color: #C83E4D;">
          <div class="row">
              <div class="col-4" style="text-align: center;">
                  <h6 style="margin-top: 40px;">Captain Jack's Cruise Co. <strong>Â©</strong> 2023</h6>
              </div>
              <div class="col-4" ></div>
              <div class="col-4">
                  <ul class="socials">
                      <a href="https://www.youtube.com/"><li><div class="social-icon"><img src="../assets/social/youtube_icon.svg" height="100%" width="100%"></div></li></a>
                      <a href="https://www.facebook.com/"><li><div class="social-icon"><img src="../assets/social/facebook_icon.svg" height="100%" width="100%"></div></li></a>
                      <a href="https://twitter.com/"><li><div class="social-icon"><img src="../assets/social/twitter_icon.svg" height="100%" width="100%"></div></li></a>
                      <a href="https://www.instagram.com/"><li><div class="social-icon"><img src="../assets/social/instagram_icon.svg" height="100%" width="100%"></div></li></a>
                  </ul>
              </div>
          </div>
        </div>
      </footer>

    </div>    

    <!-- Templates -->

    <template id="purchaseTableEntry">
      <tr>
        <td id="cruiseName">Name</td>
        <td id="cruiseCode">C418</td>
        <td id="cruiseDepartPoint">Cape Town</td>
        <td id="cruiseDestinations">Seychelles, Maldives</td>
        <td id="cruiseDepartureDate">2023/07/15</td>
        <td id="cruiseDuration">14 days</td>
        <td><div class="col-sm-10"><input class="form-control" id="cruiseNumTickets" oninput="updateTripCost()" type="number" placeholder="1" value="1" min="1"></div></td>
        <td id="cruiseCost">R100.00</td>
        <td><a id="cruiseRemoveButton" class="btn btn-secondary btn-sm" onclick="removeCruiseFromCart()">Remove</a></td>
      </tr>
    </template>


 
    <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
  <!-- JQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="../scripts/index.js"></script>
  <script src="../scripts/trips.js"></script>
  <script src="../scripts/purchasetickets.js"></script>

  </body>
</html>